rabbitmq:
    enabled: true
    image:
        registry: docker.io
        repository: bitnami/rabbitmq
        tag: 3.11.16-debian-11-r0
        pullPolicy: IfNotPresent
    nameOverride: rabbitmq
    fullnameOverride: rabbitmq
    auth:
        username: ENC[AES256_GCM,data:cmSBsWs=,iv:duLdXV/0ipCa87p0tfZgNkG7RFViY7VagmM3o0QfYlY=,tag:aIw7fPymj1x1tnE6ENmorg==,type:str]
        password: ENC[AES256_GCM,data:uthiAtfJ7V0MjPvA4lo=,iv:N95wPLaOpelmc4C2gH2YXEl26wL9mVa1fSRJtx33r7E=,tag:JluPXck5LfZkw1+mXlNpVg==,type:str]
        erlangCookie: pp7PLJYGMA7h732Kdne
    loadDefinition:
        enabled: true
        file: /app/load_definition.json
        existingSecret: load-definition
    extraConfiguration: |
        load_definitions = /app/load_definition.json
    extraSecrets:
        load-definition:
            load_definition.json: |
                {
                  "users": [
                    {
                      "name": "{{ .Values.auth.username }}",
                      "password": "{{ .Values.auth.password }}",
                      "tags": "administrator"
                    }
                  ],
                  "vhosts": [
                    {
                      "name": "/"
                    }
                  ],
                  "permissions": [
                    {
                      "user": "{{ .Values.auth.username }}",
                      "vhost": "/",
                      "configure": ".*",
                      "write": ".*",
                      "read": ".*"
                    }
                  ],
                  "policies":[
                    {
                      "vhost": "/",
                      "name":"ha",
                      "pattern":".*",
                      "definition":{"ha-mode":"all","ha-sync-mode":"automatic","ha-sync-batch-size":5}
                    }
                  ]
                }
    replicaCount: 3
    clustering:
        forceBoot: true
    pdb:
        create: false
        minAvailable: 1
    persistence:
        enabled: true
        size: 2Gi
    metrics:
        enabled: false
        serviceMonitor:
            enabled: false
            path: /metrics/per-object
sops:
    kms:
        - arn: arn:aws:kms:eu-west-1:968199160813:key/36954c37-c94a-4d58-b09c-657df7822c99
          created_at: "2024-01-18T20:13:29Z"
          enc: AQICAHhWcDMr8oH+BqA/jX/be/kNo+OjSJkYiwegqivVVeYjpgHTOyNghs9HlRgDaL0YgK7IAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMfk31C6LVrcKuyyS3AgEQgDsGypX+KyY2Lw+MVDnrSoI6Qlezh/6OSSIN8/M3ZE+fmuWKLpyEpjLhaQeSincPrXdZ/+GeUmhusHuVIw==
          aws_profile: ""
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2024-01-18T20:13:29Z"
    mac: ENC[AES256_GCM,data:k4ClIAeinr3dLFGoC1M2pL+xiV+eEQSsUll2cYNqcPUUrmlRzYjeh1YROf2XX9fhcelG30QvkXsGn9FrX7tYTxhl5w5e+kujdpwkXhikewAUrGKrPQDZ3jWxtDO6/WLdzTMcyf9OpOURRyIbm7A5a6yFX0BekGaXiNk0gTJjkRk=,iv:Jy0KpUGYCmCnQ98QGahFNwd++HotKb5uHTiYP2Hi2Ns=,tag:Umi+70C3OeI/F4xu/eQAiQ==,type:str]
    pgp: []
    encrypted_regex: ^(username|password)$
    version: 3.8.1
